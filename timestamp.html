<html>
<head>
  <title>timestamp</title>
  <link rel="icon" type="image/x-icon" href="timestamp.ico">
</head>
<body>
  <h1>
    <span style="color:#A9A9A9">/* javascript code */</span>
    <br/>
    <span style="color:purple">var</span>
    <span style="color:gray">timestamp = { </span>
    <span style="color:#8B8000">date</span>
    <span style="color:gray"> : </span>
    <span id="date" style="color:green">"15 September 1980"</span>
    <span style="color:gray"> , </span>
    <span style="color:#8B8000">time</span>
    <span style="color:gray"> : </span>
    <span id="time" style="color:green">"11:55:00"</span>
    <span style="color:gray"> }; </span>
    <br/>
    <span style="color:purple">var</span>
    <span style="color:gray">weather = { </span>
    <span style="color:#8B8000">location</span>
    <span style="color:gray"> : </span>
    <span id="loc" style="color:green">"BELGIUM"</span>
    <span style="color:gray"> , </span>
    <span style="color:#8B8000">temperature</span>
    <span style="color:gray"> : </span>
    <span id="temp" style="color:green">"24&deg;C"</span>
    <span style="color:gray"> , </span>
    <span style="color:#8B8000">type</span>
    <span style="color:gray"> : </span>
    <span id="type" style="color:green">"rain"</span>
    <span style="color:gray"> }; </span>
  </h1>
</body>
<script>
const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
const types = ["clear sky","mainly clear","partly cloudy","cloudy","fog","drizzle","rain","snow","rain showers","thunderstorm"];
function refresh() {
  const now = new Date();
  const day = now.getDate();
  const month = months[now.getMonth()];
  const year = now.getFullYear();
  const hours = ((now.getHours()<10)?"0":"")+now.getHours();
  const minutes = ((now.getMinutes()<10)?"0":"")+now.getMinutes();
  const seconds = ((now.getSeconds()<10)?"0":"")+now.getSeconds();
  document.getElementById("date").innerHTML = "\""+day + " "+ month+ " "+year+"\"";
  document.getElementById("time").innerHTML = "\""+hours+":"+minutes+":"+seconds+"\"";
  const response = await fetch("https://api.open-meteo.com/v1/forecast?latitude=50.75&longitude=4.5&current=temperature_2m,weather_code&forecast_days=1");
  const object = await response.json();
  document.getElementById("temp").innerHTML = "\""+object.temperature_2m + "&deg;C\"";
  let code = parseInt((""+object.weather_code).substring(0,1));
  const type = types[code];
  document.getElementById("type").innerHTML = "\""+type+"\"";
  setTimeout(refresh,"1000");
}
refresh();
</script>
</head>
</html>
